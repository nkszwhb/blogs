(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{589:function(t,s,a){"use strict";a.r(s);var n=a(9),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url")]),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"url-网址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-网址"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#url",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url 网址")]),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[t._v("源代码:")]),t._v(" "),a("a",{attrs:{href:"https://github.com/nodejs/node/blob/v16.15.0/lib/url.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("lib/url.js"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("url")]),t._v(" 模块提供用于网址处理和解析的实用工具。 可以使用以下方式访问它：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" url "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"网址字符串与网址对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网址字符串与网址对象"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#url-strings-and-url-objects",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("网址字符串与网址对象")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("网址字符串是包含多个有意义组件的结构化字符串。 解析时，将返回包含每个组件的属性的网址对象。")]),t._v(" "),a("p",[a("code",[t._v("url")]),t._v(" 模块提供了两种用于处理网址的 API：一种是 Node.js 特定的旧版 API，一种是实现了与 Web 浏览器使用的相同的 "),a("a",{attrs:{href:"http://url.nodejs.cn/fKgW8d",target:"_blank",rel:"noopener noreferrer"}},[t._v("WHATWG 网址标准"),a("OutboundLink")],1),t._v("的新版 API。")]),t._v(" "),a("p",[t._v("下面提供了 WHATWG 和 旧版 API 之间的比较。 在网址 "),a("code",[t._v("'https://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash'")]),t._v(" 上方显示的是由旧版 "),a("code",[t._v("url.parse()")]),t._v(" 返回的对象的属性。 下方则是 WHATWG "),a("code",[t._v("URL")]),t._v(" 对象的属性。")]),t._v(" "),a("p",[t._v("WHATWG 网址的 "),a("code",[t._v("origin")]),t._v(" 属性包括 "),a("code",[t._v("protocol")]),t._v(" 和 "),a("code",[t._v("host")]),t._v("，但不包括 "),a("code",[t._v("username")]),t._v(" 或 "),a("code",[t._v("password")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('┌────────────────────────────────────────────────────────────────────────────────────────────────┐\n│                                              href                                              │\n├──────────┬──┬─────────────────────┬────────────────────────┬───────────────────────────┬───────┤\n│ protocol │  │        auth         │          host          │           path            │ hash  │\n│          │  │                     ├─────────────────┬──────┼──────────┬────────────────┤       │\n│          │  │                     │    hostname     │ port │ pathname │     search     │       │\n│          │  │                     │                 │      │          ├─┬──────────────┤       │\n│          │  │                     │                 │      │          │ │    query     │       │\n"  https:   //    user   :   pass   @ sub.example.com : 8080   /p/a/t/h  ?  query=string   #hash "\n│          │  │          │          │    hostname     │ port │          │                │       │\n│          │  │          │          ├─────────────────┴──────┤          │                │       │\n│ protocol │  │ username │ password │          host          │          │                │       │\n├──────────┴──┼──────────┴──────────┼────────────────────────┤          │                │       │\n│   origin    │                     │         origin         │ pathname │     search     │ hash  │\n├─────────────┴─────────────────────┴────────────────────────┴──────────┴────────────────┴───────┤\n│                                              href                                              │\n└────────────────────────────────────────────────────────────────────────────────────────────────┘\n("" 行中的所有空格都应被忽略。它们纯粹是为了格式化。)\n')])])]),a("p",[t._v("使用 WHATWG API 解析网址字符串：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("使用旧版 API 解析网址字符串：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" url "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"new-url-input-base"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-url-input-base"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#new-urlinput-base",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("new URL(input[, base])")]),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("input")]),t._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v(" 要解析的绝对或相对的输入网址。 如果 "),a("code",[t._v("input")]),t._v(" 是相对的，则需要 "),a("code",[t._v("base")]),t._v("。 如果 "),a("code",[t._v("input")]),t._v(" 是绝对的，则忽略 "),a("code",[t._v("base")]),t._v("。 如果 "),a("code",[t._v("input")]),t._v(" 不是字符串，则先"),a("a",{attrs:{href:"https://tc39.es/ecma262/#sec-tostring",target:"_blank",rel:"noopener noreferrer"}},[t._v("转换成字符串"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("base")]),t._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v(" 如果 "),a("code",[t._v("input")]),t._v(" 不是绝对的，则为要解析的基本网址。 如果 "),a("code",[t._v("base")]),t._v(" 不是字符串，则先"),a("a",{attrs:{href:"https://tc39.es/ecma262/#sec-tostring",target:"_blank",rel:"noopener noreferrer"}},[t._v("转换成字符串"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("p",[t._v("通过相对于 "),a("code",[t._v("base")]),t._v(" 解析 "),a("code",[t._v("input")]),t._v(" 来创建新的 "),a("code",[t._v("URL")]),t._v(" 对象。 如果 "),a("code",[t._v("base")]),t._v(" 作为字符串传入，则其将被解析为等效于 "),a("code",[t._v("new URL(base)")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://example.org/foo")]),t._v("\n")])])]),a("p",[t._v("网址构造函数可作为全局对象的属性访问。 也可以从内置的 url 模块中导入：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" globalThis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 'true'.")]),t._v("\n")])])]),a("p",[t._v("如果 "),a("code",[t._v("input")]),t._v(" 或 "),a("code",[t._v("base")]),t._v(" 不是有效的网址，则将抛出 "),a("code",[t._v("TypeError")]),t._v("。 注意，会将给定的值强制转换为字符串。 例如：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("toString")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://example.org/")]),t._v("\n")])])]),a("p",[t._v("出现在 "),a("code",[t._v("input")]),t._v(" 的主机名中的 Unicode 字符将使用 "),a("a",{attrs:{href:"http://url.nodejs.cn/C2g98n",target:"_blank",rel:"noopener noreferrer"}},[t._v("Punycode"),a("OutboundLink")],1),t._v(" 算法自动转换为 ASCII。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://測試'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://xn--g6w251d/")]),t._v("\n")])])]),a("p",[t._v("只有在启用 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/intl.html#options-for-building-nodejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ICU"),a("OutboundLink")],1),t._v(" 的情况下编译 "),a("code",[t._v("node")]),t._v(" 可执行文件时，此功能才可用。 如果不是，则域名将原封不动地传入。")]),t._v(" "),a("p",[t._v("如果事先不知道 "),a("code",[t._v("input")]),t._v(" 是否是绝对的网址并且提供了 "),a("code",[t._v("base")]),t._v("，则建议验证 "),a("code",[t._v("URL")]),t._v(" 对象的 "),a("code",[t._v("origin")]),t._v(" 是否符合预期。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://Example.com/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// http://example.com/")]),t._v("\n\nmyURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://Example.com/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://example.com/")]),t._v("\n\nmyURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo://Example.com/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// foo://Example.com/")]),t._v("\n\nmyURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http:Example.com/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// http://example.com/")]),t._v("\n\nmyURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https:Example.com/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://example.org/Example.com/")]),t._v("\n\nmyURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo:Example.com/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// foo:Example.com/")]),t._v("\n")])])]),a("h3",{attrs:{id:"url-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-hash"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlhash",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.hash")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取和设置网址的片段部分。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/foo#bar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 #bar")]),t._v("\n\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'baz'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.org/foo#baz")]),t._v("\n")])])]),a("p",[t._v("分配给 "),a("code",[t._v("hash")]),t._v(" 属性的值中包含的无效的网址字符会进行"),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#percent-encoding-in-urls",target:"_blank",rel:"noopener noreferrer"}},[t._v("百分比编码"),a("OutboundLink")],1),t._v("。 选择要进行百分比编码的字符可能与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlparseurlstring-parsequerystring-slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.parse()")]),a("OutboundLink")],1),t._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlformaturlobject",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.format()")]),a("OutboundLink")],1),t._v(" 方法产生的结果有所不同。")]),t._v(" "),a("h3",{attrs:{id:"url-host"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-host"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlhost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.host")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取和设置网址的主机部分。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org:81/foo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 example.org:81")]),t._v("\n\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("host "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'example.com:82'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.com:82/foo")]),t._v("\n")])])]),a("p",[t._v("分配给 "),a("code",[t._v("host")]),t._v(" 属性的无效主机值将被忽略。")]),t._v(" "),a("h3",{attrs:{id:"url-hostname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-hostname"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlhostname",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.hostname")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取和设置网址的主机名部分。 "),a("code",[t._v("url.host")]),t._v(" 和 "),a("code",[t._v("url.hostname")]),t._v(" 之间的主要区别在于 "),a("code",[t._v("url.hostname")]),t._v(" 不包括端口。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org:81/foo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 example.org")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置主机名不会改变端口")]),t._v("\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'example.com:82'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.com:81/foo")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 myURL.host 更改主机名和端口")]),t._v("\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("host "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'example.org:82'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.org:82/foo")]),t._v("\n")])])]),a("p",[t._v("分配给 "),a("code",[t._v("hostname")]),t._v(" 属性的无效主机名值将被忽略。")]),t._v(" "),a("h3",{attrs:{id:"url-href"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-href"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlhref",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.href")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取和设置序列化的网址。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/foo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.org/foo")]),t._v("\n\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.com/bar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.com/bar")]),t._v("\n")])])]),a("p",[t._v("获取 "),a("code",[t._v("href")]),t._v(" 属性的值相当于调用 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urltostring",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.toString()")]),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("将此属性的值设置为新值相当于使用 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#new-urlinput-base",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("new URL(value)")]),a("OutboundLink")],1),t._v(" 创建新的 "),a("code",[t._v("URL")]),t._v(" 对象。 "),a("code",[t._v("URL")]),t._v(" 对象的每个属性都将被修改。")]),t._v(" "),a("p",[t._v("如果分配给 "),a("code",[t._v("href")]),t._v(" 属性的值不是有效的网址，则将抛出 "),a("code",[t._v("TypeError")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"url-origin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-origin"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlorigin",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.origin")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取网址的源的只读的序列化。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/foo/bar?baz'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("origin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.org")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" idnURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://測試'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("idnURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("origin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://xn--g6w251d")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("idnURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 xn--g6w251d")]),t._v("\n")])])]),a("h3",{attrs:{id:"url-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-password"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlpassword",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.password")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取和设置网址的密码部分。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://abc:xyz@example.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 xyz")]),t._v("\n\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("password "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://abc:123@example.com")]),t._v("\n")])])]),a("p",[t._v("分配给 "),a("code",[t._v("password")]),t._v(" 属性的值中包含的无效的网址字符会进行"),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#percent-encoding-in-urls",target:"_blank",rel:"noopener noreferrer"}},[t._v("百分比编码"),a("OutboundLink")],1),t._v("。 选择要进行百分比编码的字符可能与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlparseurlstring-parsequerystring-slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.parse()")]),a("OutboundLink")],1),t._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlformaturlobject",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.format()")]),a("OutboundLink")],1),t._v(" 方法产生的结果有所不同。")]),t._v(" "),a("h3",{attrs:{id:"url-pathname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-pathname"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlpathname",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.pathname")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取和设置网址的路径部分。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/abc/xyz?123'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 /abc/xyz")]),t._v("\n\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/abcdef'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.org/abcdef?123")]),t._v("\n")])])]),a("p",[t._v("分配给 "),a("code",[t._v("pathname")]),t._v(" 属性的值中包含的无效的网址字符会进行"),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#percent-encoding-in-urls",target:"_blank",rel:"noopener noreferrer"}},[t._v("百分比编码"),a("OutboundLink")],1),t._v("。 选择要进行百分比编码的字符可能与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlparseurlstring-parsequerystring-slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.parse()")]),a("OutboundLink")],1),t._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlformaturlobject",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.format()")]),a("OutboundLink")],1),t._v(" 方法产生的结果有所不同。")]),t._v(" "),a("h3",{attrs:{id:"url-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-port"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlport",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.port")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取和设置网址的端口部分。")]),t._v(" "),a("p",[t._v("端口值可以是数字，也可以是包含 "),a("code",[t._v("0")]),t._v(" 到 "),a("code",[t._v("65535")]),t._v("（含）范围内的数字的字符串。 将值设置为给定 "),a("code",[t._v("protocol")]),t._v(" 的 "),a("code",[t._v("URL")]),t._v(" 对象的默认端口将导致 "),a("code",[t._v("port")]),t._v(" 值成为空字符串 ("),a("code",[t._v("''")]),t._v(")。")]),t._v(" "),a("p",[t._v("端口值可以是空字符串，在这种情况下端口取决于协议/方案：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("协议")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("端口")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v('"ftp"')]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("21")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v('"file"')]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v('"http"')]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("80")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v('"https"')]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("443")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v('"ws"')]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("80")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v('"wss"')]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("443")])])])]),t._v(" "),a("p",[t._v("为端口分配值后，该值将首先使用 "),a("code",[t._v(".toString()")]),t._v(" 转换为字符串。")]),t._v(" "),a("p",[t._v("如果该字符串无效但以数字开头，则将前导数字分配给 "),a("code",[t._v("port")]),t._v("。 如果数字在上述范围之外，则将其忽略。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org:8888'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 8888")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认端口自动转换为空字符串")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//（HTTPS 协议的默认端口是 443）")]),t._v("\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'443'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印空字符串")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.org/")]),t._v("\n\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 1234")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.org:1234/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 完全无效的端口字符串被忽略")]),t._v("\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'abcd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 1234")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 前导数字被视为端口号")]),t._v("\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5678abcd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 5678")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 非整数被截断")]),t._v("\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234.5678")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 1234")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 未用科学计数法表示的超出范围的数字将被忽略。")]),t._v("\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1e10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 10000000000，将按如下所述进行范围检查")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 1234")]),t._v("\n")])])]),a("p",[t._v("包含小数点的数字，例如浮点数或科学记数法中的数字，也不例外。 小数点前的前导数字将被设置为网址的端口，假设它们是有效的：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.567e21")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 4（因为它是字符串 '4.567e21' 中的前导数字）")]),t._v("\n")])])]),a("h3",{attrs:{id:"url-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-protocol"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlprotocol",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.protocol")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取和设置网址的协议部分。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protocol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https:")]),t._v("\n\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protocol "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ftp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 ftp://example.org/")]),t._v("\n")])])]),a("p",[t._v("分配给 "),a("code",[t._v("protocol")]),t._v(" 属性的无效的网址协议值将被忽略。")]),t._v(" "),a("p",[a("strong",[t._v("特殊协议")])]),t._v(" "),a("p",[a("a",{attrs:{href:"http://url.nodejs.cn/fKgW8d",target:"_blank",rel:"noopener noreferrer"}},[t._v("WHATWG 网址标准"),a("OutboundLink")],1),t._v("认为少数网址协议方案在解析和序列化方式方面具有特殊性。 当使用这些特殊协议之一解析网址时，"),a("code",[t._v("url.protocol")]),t._v(" 属性可能会更改为另一种特殊协议，但不能更改为非特殊协议，反之亦然。")]),t._v(" "),a("p",[t._v("例如，从 "),a("code",[t._v("http")]),t._v(" 更改为 "),a("code",[t._v("https")]),t._v(" 有效：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" u "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://example.org'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protocol "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://example.org")]),t._v("\n")])])]),a("p",[t._v("但是，从 "),a("code",[t._v("http")]),t._v(" 更改为假设的 "),a("code",[t._v("fish")]),t._v(" 协议并不是因为新协议并不特殊。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" u "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://example.org'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protocol "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fish'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// http://example.org")]),t._v("\n")])])]),a("p",[t._v("同样，也不允许从非特殊协议更改为特殊协议：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" u "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fish://example.org'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protocol "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// fish://example.org")]),t._v("\n")])])]),a("p",[t._v("根据 WHATWG 网址标准，特殊协议方案有 "),a("code",[t._v("ftp")]),t._v("、"),a("code",[t._v("file")]),t._v("、"),a("code",[t._v("http")]),t._v("、"),a("code",[t._v("https")]),t._v("、"),a("code",[t._v("ws")]),t._v(" 和 "),a("code",[t._v("wss")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"url-search"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-search"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlsearch",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.search")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取和设置网址的序列化的查询部分。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/abc?123'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 ?123")]),t._v("\n\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'abc=xyz'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://example.org/abc?abc=xyz")]),t._v("\n")])])]),a("p",[t._v("出现在分配给 "),a("code",[t._v("search")]),t._v(" 属性的值中的任何无效的网址字符都将进行"),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#percent-encoding-in-urls",target:"_blank",rel:"noopener noreferrer"}},[t._v("百分比编码"),a("OutboundLink")],1),t._v("。 选择要进行百分比编码的字符可能与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlparseurlstring-parsequerystring-slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.parse()")]),a("OutboundLink")],1),t._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlformaturlobject",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.format()")]),a("OutboundLink")],1),t._v(" 方法产生的结果有所不同。")]),t._v(" "),a("h3",{attrs:{id:"url-searchparams"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-searchparams"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlsearchparams",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.searchParams")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取表示网址查询参数的 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#class-urlsearchparams",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("URLSearchParams")]),a("OutboundLink")],1),t._v(" 对象。 此属性是只读的，但它提供的 "),a("code",[t._v("URLSearchParams")]),t._v(" 对象可用于更改网址实例； 要替换网址的整个查询参数，则使用 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlsearch",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.search")]),a("OutboundLink")],1),t._v(" 设置器。 有关详细信息，请参阅 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#class-urlsearchparams",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("URLSearchParams")]),a("OutboundLink")],1),t._v(" 文档。")]),t._v(" "),a("p",[t._v("当使用 "),a("code",[t._v(".searchParams")]),t._v(" 修改 "),a("code",[t._v("URL")]),t._v(" 时要小心，因为根据 WHATWG 规范，"),a("code",[t._v("URLSearchParams")]),t._v(" 对象使用不同的规则来确定要对哪些字符进行百分比编码。 例如，"),a("code",[t._v("URL")]),t._v(" 对象不会对 ASCII 波浪号 ("),a("code",[t._v("~")]),t._v(") 字符进行百分比编码，而 "),a("code",[t._v("URLSearchParams")]),t._v(" 将始终对其进行编码：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myUrl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.org/abc?foo=~bar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 ?foo=~bar")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过 searchParams 修改网址...")]),t._v("\nmyUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("searchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 ?foo=%7Ebar")]),t._v("\n")])])]),a("h3",{attrs:{id:"url-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-username"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlusername",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.username")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("获取和设置网址的用户名部分。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://abc:xyz@example.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 abc")]),t._v("\n\nmyURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印 https://123:xyz@example.com/")]),t._v("\n")])])]),a("p",[t._v("出现在分配给 "),a("code",[t._v("username")]),t._v(" 属性的值中的任何无效的网址字符都将进行"),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#percent-encoding-in-urls",target:"_blank",rel:"noopener noreferrer"}},[t._v("百分比编码"),a("OutboundLink")],1),t._v("。 选择要进行百分比编码的字符可能与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlparseurlstring-parsequerystring-slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.parse()")]),a("OutboundLink")],1),t._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlformaturlobject",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.format()")]),a("OutboundLink")],1),t._v(" 方法产生的结果有所不同。")]),t._v(" "),a("h3",{attrs:{id:"url-tostring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-tostring"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urltostring",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.toString()")]),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("URL")]),t._v(" 对象上的 "),a("code",[t._v("toString()")]),t._v(" 方法返回序列化的网址。 返回值等同于 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlhref",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.href")]),a("OutboundLink")],1),t._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urltojson",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.toJSON()")]),a("OutboundLink")],1),t._v(" 的值。")]),t._v(" "),a("h3",{attrs:{id:"url-tojson"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-tojson"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urltojson",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.toJSON()")]),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("URL")]),t._v(" 对象上的 "),a("code",[t._v("toJSON()")]),t._v(" 方法返回序列化的网址。 返回值等同于 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urlhref",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.href")]),a("OutboundLink")],1),t._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v16/url.html#urltostring",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("url.toString()")]),a("OutboundLink")],1),t._v(" 的值。")]),t._v(" "),a("p",[t._v("当 "),a("code",[t._v("URL")]),t._v(" 对象用 "),a("a",{attrs:{href:"http://url.nodejs.cn/bmLTNS",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("JSON.stringify()")]),a("OutboundLink")],1),t._v(" 序列化时，会自动调用此方法。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myURLs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.example.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://test.example.org'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myURLs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 打印 ["https://www.example.com/","https://test.example.org/"]')]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);